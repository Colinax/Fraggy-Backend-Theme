$(function () {    var $themeStylesheet = $('link#themeStylesheet');    $('#colorSwitcher a').on('click', function (e) {        e.preventDefault();        var cssFile = $(this).blur().attr('href');        $('body').fadeTo(400, 0, function () {            var $body = $(this),                    $newThemeStyleSheet = $('<link>', {                        'rel': 'stylesheet',                        'type': 'text/css',                        'href': cssFile                    });            Cookies.set('cssFile', cssFile);            $themeStylesheet.after($newThemeStyleSheet);            $newThemeStyleSheet.load(function () {                $themeStylesheet.remove();                $themeStylesheet = $newThemeStyleSheet;                $body.fadeTo(400, 1);            });        });    });    if (Cookies.get('cssFile') !== 'undefined') {        $themeStylesheet.attr('href', Cookies.get('cssFile'));    }    $(window).on('resize', function () {        var $window = $(this);        if ($window.outerWidth() > 768) {            $('nav.sidebar').height($('body').outerHeight());        } else {            $('nav.sidebar').height('');        }    }).resize();    $('select').select2({        theme: 'bootstrap',        minimumResultsForSearch: 5,        width: '100%',        dropdownAutoWidth: true    }).focus(function () {        $(this).select2('open');    });    $('.datetimepicker').datetimepicker({        locale: 'en',        format: 'D.M.Y HH:mm',        useCurrent: false    });    $.ajax({        dataType: 'json',        url: THEME_URL + '/api/sysinfo.php',        success: function (data) {            $('ul.versions').find('.php').text(data.php.version);        },        error: function (jqXHR, textStatus, errorThrown) {            $('ul.versions').find('.php').parent().remove();        }    });    if ($('#startPage').length) {        var $serverInfoPanel = $(this).find('#serverInfoPanel'),                $table = $('<table>', {                    'class': 'table table-striped'                }),                $tableBody = $('<tbody>');        $.ajax({            dataType: 'json',            url: THEME_URL + '/api/sysinfo.php?advanced',            success: function (data) {                $tableBody                        .append('<tr><td>PHP Version</td><td>' + data.php.version + '</td></tr>')                        .append('<tr><td>Loaded Extensions</td><td>' + data.php.loaded_extensions + '</td></tr>')                        .append('<tr><td>System</td><td>' + data.server.system + ' ' + data.server.architecture + '</td></tr>')                        .append('<tr><td>Server API</td><td>' + data.server.server_api + '</td></tr>')                $table.prepend($tableBody);                $serverInfoPanel.append($table);                $(window).resize();            },            error: function (jqXHR, textStatus, errorThrown) {                $serverInfoPanel.remove();            }        });    }});